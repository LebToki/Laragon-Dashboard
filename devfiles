# Laragon Dashboard - Knowledge Base

> **Note:** See `LICENSING_STRATEGY.md` for commercial licensing and code protection strategy.

## Project Information

- **Project Name**: Laragon Dashboard
- **Version**: 3.0.0 (in development)
- **Author**: Tarek Tarabichi
- **Company**: 2TInteractive (2tinteractive.com)
- **Project Start**: Early 2024
- **GitHub**: https://github.com/LebToki/Laragon-Dashboard
- **License**: MIT
- **Goal**: MAMP competitor for Windows OS (with potential future cross-platform support)
- **description**: A comprehensive web-based dashboard for managing Laragon development environment - MAMP competitor for Windows with modern UI
-**tags**: laragon, dashboard, development-environment, windows, php, apache, mysql, web-development, local-server, mamp-alternative


## Version 3.0.0 Achievements & Updates

**Last Updated**: January 2025

### Recent Updates (December 2024 - January 2025)

#### 23. **Adminer Integration** ✅ **NEW**
- ✅ Standalone Adminer module (`includes/AdminerModule.php`)
- ✅ Auto-download and installation functionality
- ✅ Password-less login plugin for localhost
- ✅ Custom theme matching dashboard design (`assets/adminer/adminer.css`)
- ✅ Auto-login via URL parameters (`?username=root&db=database`)
- ✅ Plugin system integration (7 default plugins: frames, dark-switcher, dump-zip, dump-json, tables-filter, edit-textarea, dump-date)
- ✅ Reusable module for other applications
- ✅ Helper functions: `isAdminerInstalled()`, `getAdminerUrl()`
- ✅ Works independently but themed to match dashboard

**Files**: 
- `includes/AdminerModule.php` - Main module class
- `assets/adminer/adminer.php` - Adminer application
- `assets/adminer/adminer.css` - Dashboard-themed CSS
- `assets/adminer/adminer-plugins/` - Plugin directory
- `assets/adminer/adminer-plugins.php` - Plugin configuration

**Documentation**: See `assets/adminer/README.md` and `assets/adminer/PLUGINS.md`

#### 24. **Routing Simplification** ✅ **COMPLETED**
- ✅ Replaced Router class with simple `?page=` query parameter handling
- ✅ Added `getParam()` helper function for parameter sanitization
- ✅ Added `getCurrentPage()` helper function
- ✅ Simple 404 page created (`pages/404.php`)
- ✅ Updated sidebar to use simple page detection
- ✅ Reduced complexity from 350+ lines to ~30 lines
- ✅ Still secure with basic sanitization (prevents directory traversal)
- ✅ All pages work with simple `index.php?page=name` URLs

**Benefits**: Simpler, faster, easier to maintain, still secure

**Note**: Router.php can be removed/archived as it's no longer used.

#### 19. **Self-Update System** ✅ **NEW**
- ✅ Complete update mechanism (`includes/UpdateManager.php`, `includes/ConfigMigrator.php`)
- ✅ GitHub API integration for version checking
- ✅ Automatic backup creation with manifest
- ✅ Configuration migration and preservation
- ✅ User data preservation (preferences, license, backups)
- ✅ Safe rollback mechanism
- ✅ Post-update verification
- ✅ Config key extraction and migration

**API**: `api/update.php`  
**Documentation**: See `UPDATE_SYSTEM.md` for complete details

#### 20. **Offline Library Support** ✅ **NEW**
- ✅ All CodeMirror libraries downloaded locally
- ✅ No CDN dependencies (fully offline capable)
- ✅ Libraries stored in `/assets/css/lib/` and `/assets/js/lib/`
- ✅ CodeMirror CSS and JS (including modes: Apache, PHP, SQL, INI, Shell)
- ✅ Monokai theme included
- ✅ Library update script (`build/update_libraries.php`)

#### 21. **Enhanced Favicon Detection** ✅ **IMPROVED**
- ✅ Comprehensive favicon detection in 30+ common locations
- ✅ Support for multiple formats (ico, png, jpg, jpeg, svg)
- ✅ WordPress theme favicon detection
- ✅ HTML file parsing for favicon links
- ✅ Fixed favicon URL generation (no more first character trimming)
- ✅ Proper path normalization and relative URL construction

#### 22. **Licensing & Protection Strategy** ✅ **PLANNED**
- ✅ Complete licensing strategy document (`LICENSING_STRATEGY.md`)
- ✅ Library update system (`build/update_libraries.php`)
- ✅ Build system documentation (`build/README.md`)
- ✅ Commercial licensing model (Free/Pro/Enterprise tiers)
- ✅ Code protection architecture planning
- ✅ Dual structure planning (development/release)

**Documentation**: See `LICENSING_STRATEGY.md` for complete details

### Major Features Implemented

#### 1. **Complete UI/UX Rebuild**
- ✅ Rebuilt `navbar.php`, `sidebar.php`, and `footer.php` from scratch
- ✅ Modern, clean interface with Laragon-specific branding
- ✅ Responsive design with mobile support
- ✅ Proper asset path management using `ASSETS_URL` constant

#### 2. **Internationalization (i18n) System**
- ✅ Complete i18n infrastructure with module-based translations
- ✅ Support for 8 languages: English, Arabic, German, Spanish, French, Indonesian, Portuguese, Tagalog
- ✅ Translation files organized by module (`common/`, `sidebar/`, `dashboard/`, `projects/`, `databases/`, `services/`, `logs/`, `tools/`, `backup/`, `preferences/`)
- ✅ Flag-based language selector in navbar
- ✅ Custom Arabic flag (`arabic.png`) instead of country-specific flag
- ✅ Dynamic greeting based on time of day (Good Morning/Afternoon/Evening) with i18n support
- ✅ Translation helper functions: `t()`, `load_translations()`, `get_current_language()`, `set_current_language()`
- ✅ Fallback chain: specific language → generic → English

#### 3. **Right-to-Left (RTL) Support**
- ✅ Full RTL support for Arabic language
- ✅ Dynamic `dir` attribute on `<html>` element (`dir="rtl"` for Arabic, `dir="ltr"` for others)
- ✅ Dynamic `lang` attribute based on selected language
- ✅ RTL CSS utilities already in place
- ✅ Follows WowDash RTL implementation pattern

#### 4. **Theme System**
- ✅ Light/Dark theme toggle with icon switching (sun/moon icons)
- ✅ Separate monochrome mode button (palette icon)
- ✅ Theme persistence via localStorage
- ✅ Monochrome mode implemented in `footer.php` with custom event system
- ✅ Theme synchronization between light/dark and monochrome modes
- ✅ CSS file: `assets/css/lib/monochrome-mode.css`

#### 5. **Laragon Path Detection & Configuration**
- ✅ Advanced dynamic Laragon path detection:
  - Dashboard preferences override (`data/preferences.json`)
  - Environment variables (`LARAGON_ROOT`)
  - Dynamic drive scanning (C:/, D:/, E:/)
  - Document root detection
  - INI file reading (`laragon.ini`)
  - Default fallback
- ✅ Dashboard preferences system for overrides:
  - `laragon_root`
  - `mysql_host`, `mysql_user`, `mysql_password`
  - `document_root`
  - `domain_suffix`
- ✅ Functions: `getLaragonRoot()`, `getDashboardPreferences()`, `saveDashboardPreferences()`, `scanForLaragonInstallations()`

#### 6. **Progressive Web App (PWA) Support**
- ✅ Complete PWA implementation
- ✅ Web App Manifest (`site.webmanifest`) with:
  - App name and description
  - Icons (192x192, 512x512)
  - Theme color matching dashboard
  - Standalone display mode
  - Windows shortcuts (Dashboard, Projects, Services)
  - Categories for Windows Start Menu
- ✅ Service Worker (`sw.js`) for offline functionality:
  - Asset caching
  - Runtime caching
  - Cache-first strategy
  - Update detection
- ✅ Service Worker registration script
- ✅ Windows app integration (appears in Start Menu, can be pinned to taskbar)
- ✅ Installable via Microsoft Edge

#### 7. **Favicon & Meta Tags**
- ✅ Complete favicon set:
  - `favicon.ico`
  - `favicon-16x16.png`
  - `favicon-32x32.png`
  - `apple-touch-icon.png`
  - `android-chrome-192x192.png`
  - `android-chrome-512x512.png`
- ✅ Web manifest properly configured
- ✅ Updated meta tags (removed deprecated `apple-mobile-web-app-capable`, added `mobile-web-app-capable`)
- ✅ Proper Open Graph and Twitter Card meta tags

#### 8. **Code Quality & Architecture**
- ✅ Fixed function redeclaration errors with `if (!function_exists())` guards
- ✅ Proper error handling for header/cookie setting (checks `headers_sent()`)
- ✅ Centralized configuration loading in `config.php`
- ✅ Helper functions properly organized in `includes/helpers.php`
- ✅ All functions wrapped with existence checks to prevent conflicts

#### 9. **Sidebar Navigation**
- ✅ Laragon-specific menu items:
  - Dashboard
  - Development: Projects, Databases
  - Services: Services, Server Vitals
  - System: Mailbox, Logs
  - Tools: Tools, Backup
  - Preferences
- ✅ Active state detection based on current page
- ✅ i18n support for all menu items
- ✅ Section grouping with titles

#### 10. **Navbar Features**
- ✅ User avatar using `logo-icon.png`
- ✅ Flag-based language selector with dropdown
- ✅ Theme switchers (light/dark toggle + monochrome)
- ✅ Message and notification dropdowns (structure ready)
- ✅ Project search functionality with dropdown results

#### 11. **Server Vitals & Monitoring**
- ✅ Real-time server monitoring with ApexCharts
- ✅ CPU usage line chart (24-hour history)
- ✅ Memory usage area chart with gradient fill
- ✅ Disk usage donut chart (used/free space)
- ✅ Service status pie chart (running vs stopped)
- ✅ Network traffic column chart (upload/download)
- ✅ Mini sparkline charts in KPI cards
- ✅ Auto-refresh every 30 seconds
- ✅ Windows WMI integration for real system data
- ✅ API endpoint: `api/vitals.php`

#### 12. **Page Routing System**
- ✅ Centralized routing in `index.php`
- ✅ Secure page loading with sanitization
- ✅ 404 error handling for missing pages
- ✅ All sidebar links properly routed:
  - Dashboard (`index.php`)
  - Projects (`index.php?page=projects`)
  - Databases (`index.php?page=databases`)
  - Services (`index.php?page=services`)
  - Server Vitals (`index.php?page=vitals`)
  - Mailbox (`index.php?page=mailbox`)
  - Logs (`index.php?page=logs`)
  - Tools (`index.php?page=tools`)
  - Backup (`index.php?page=backup`)
  - Sites Enabled (`index.php?page=sites`)
  - httpd.conf (`index.php?page=httpd`)
  - Preferences (`index.php?page=preferences`)

#### 13. **Services Management**
- ✅ Dynamic service detection (Apache, MySQL, Nginx, Redis, Memcached, MongoDB, PostgreSQL, Mailpit)
- ✅ Service status monitoring (running/stopped)
- ✅ Port configuration (read/write from `laragon.ini`)
- ✅ Start/Stop service controls
- ✅ Apache reload functionality
- ✅ Running port detection via `netstat`
- ✅ WowDash-compliant UI (no Bootstrap standard classes)
- ✅ API endpoint: `api/services.php`

#### 14. **Logs Management**
- ✅ Dynamic log file scanning (Apache, PHP, MySQL)
- ✅ Code viewer with Monokai theme
- ✅ Log refresh, clear, and download functionality
- ✅ Log file list with icons and labels
- ✅ API endpoint: `api/logs.php`

#### 15. **Virtual Hosts Management**
- ✅ Sites Enabled page (`pages/sites.php`)
- ✅ List and edit Apache virtual host files
- ✅ Create new virtual host files
- ✅ Code editor with Monokai theme
- ✅ Automatic backup before saving
- ✅ API endpoint: `api/files.php`

#### 16. **Apache Configuration**
- ✅ httpd.conf editor (`pages/httpd.php`)
- ✅ Main Apache configuration editing
- ✅ Save and reload functionality
- ✅ Automatic backup system

#### 17. **Preferences System**
- ✅ Dashboard preferences page (`pages/preferences.php`)
- ✅ Laragon root path override
- ✅ MySQL credentials override
- ✅ Preferences stored in `data/preferences.json`
- ✅ API endpoint: `api/preferences.php`
- ✅ Reset preferences functionality

#### 18. **Project Management**
- ✅ Project detection and listing
- ✅ Framework detection (WordPress, Laravel, Drupal, Symfony, Joomla, etc.)
- ✅ Favicon detection and fallback to platform icons
- ✅ Project creation wizard (modal)
- ✅ Iconify icon integration for platform icons
- ✅ Gradient variants for card styling
- ✅ API endpoint: `api/create_project.php`

#### 19. **Mailbox Integration**
- ✅ Mailpit API integration
- ✅ Email list and detail view
- ✅ PHP proxy to avoid CORS issues
- ✅ Mailpit connection status checking
- ✅ API endpoint: `api/mailpit.php`

### Technical Improvements

#### Configuration System
- ✅ `config.php` - Centralized configuration with dynamic detection
- ✅ `includes/helpers.php` - Server information and utility functions
- ✅ `includes/i18n.php` - Translation system with session/cookie management
- ✅ `data/preferences.json` - Dashboard-specific preferences storage

#### File Structure Updates
```
Laragon-Dashboard/
├── i18n/                    # NEW: Internationalization files
│   ├── common/             # Common translations (8 languages)
│   ├── sidebar/            # Sidebar menu translations
│   ├── dashboard/          # Dashboard page translations
│   ├── projects/           # Projects module translations
│   ├── databases/          # Databases module translations
│   ├── services/           # Services module translations
│   ├── logs/               # Logs module translations
│   ├── tools/              # Tools module translations
│   ├── backup/             # Backup module translations
│   ├── preferences/        # Preferences module translations
│   └── languages.php       # Language configuration
├── data/                   # NEW: Data storage
│   └── preferences.json    # Dashboard preferences
├── sw.js                   # NEW: Service Worker for PWA
├── partials/              # Updated layout partials
│   ├── layouts/
│   │   ├── layoutTop.php  # Updated with RTL/lang support
│   │   └── layoutBottom.php
│   ├── head.php           # Updated with favicons & PWA meta
│   ├── navbar.php         # Completely rebuilt
│   ├── sidebar.php        # Completely rebuilt
│   ├── footer.php         # Updated with monochrome mode
│   └── scripts.php        # Updated with SW registration
└── assets/
    └── images/
        └── favicon/        # Complete favicon set
```

### Translation Coverage

All modules now have translations for:
- ✅ English (en)
- ✅ Arabic (ar) - with RTL support
- ✅ German (de)
- ✅ Spanish (es)
- ✅ French (fr)
- ✅ Indonesian (id)
- ✅ Portuguese (pt)
- ✅ Tagalog (tl)

### Browser & Platform Support

- ✅ Windows 10/11 (Primary platform)
- ✅ Microsoft Edge (Chromium) - Full PWA support
- ✅ Chrome - Full PWA support
- ✅ Firefox - Basic support
- ✅ Safari - Basic support (iOS PWA support)
- ✅ Mobile browsers - Responsive design

### Current Status Summary

**Completed Pages:**
- ✅ Dashboard (main page with server cards and projects)
- ✅ Projects (project listing with search)
- ✅ Databases (Adminer + phpMyAdmin integration, auto-login)
- ✅ Services (fully functional with port management, general settings)
- ✅ Server Vitals (fully functional with real-time charts)
- ✅ Mailbox (Mailpit integration)
- ✅ Logs (log viewer with CodeMirror editor)
- ✅ Tools (Composer, NPM, Git, Cache clearing, PHP Info)
- ✅ Backup (fully functional with project ZIP, database dump, download/delete/refresh)
- ✅ Sites Enabled (virtual hosts management with CodeMirror)
- ✅ Server Configurations (httpd.conf, php.ini, my.ini with tabs)
- ✅ Preferences (dashboard settings)

**API Endpoints:**
- ✅ `api/vitals.php` - Server monitoring data
- ✅ `api/services.php` - Service management (start/stop/reload, general settings)
- ✅ `api/logs.php` - Log file operations
- ✅ `api/files.php` - File read/write operations
- ✅ `api/mailpit.php` - Mailpit email proxy
- ✅ `api/create_project.php` - Project creation
- ✅ `api/preferences.php` - Preferences management
- ✅ `api/tools.php` - Development tools (Composer, NPM, Git, Cache, PHP Info)
- ✅ `api/backup.php` - Backup management (project ZIP, database dump, list, create, delete, download, refresh)

### Next Steps for Complete v3.0.0

#### Completed (Previously Listed):
- ✅ **MySQL Management Interface** - Adminer integration provides full database management
- ✅ **Tools Page Implementation** - Fully functional with Composer, NPM, Git, Cache, PHP Info
- ✅ **Backup System Implementation** - Fully functional with project ZIP, database dump, download/delete/refresh
- ✅ **Router Simplification** - Simplified to direct `?page=` routing

#### Medium Priority:
1. Add more translation keys as features are implemented
2. Enhance service worker caching strategy
3. Add offline fallback page
4. Implement push notifications (optional)
5. Project creation wizard enhancements
6. Service auto-start configuration

#### Low Priority:
1. Add more Windows shortcuts to manifest
2. Create custom app icons for different contexts
3. Add app update notifications
4. Terminal integration
5. File manager integration

### Codebase Cleanup Tasks (Future)

#### Major Cleanup Required:

1. **Remove Legacy Template Directory**
   - ⚠️ **Task**: Remove `/template/` directory entirely
   - **Reason**: Not part of the webapp, all assets moved to `/assets/`
   - **Impact**: Verify no references remain in codebase
   - **Files to Check**: All PHP files for template path references

2. **Cleanup Assets Directory**
   - ⚠️ **Task**: Remove unused icon files (keep only flags, logos, favicons)
   - **Reason**: Using Iconify for all icons now, no need for individual icon files
   - **Keep**:
     - `/assets/images/flags/` - Language flags
     - `/assets/images/favicon/` - Favicon files
     - `/assets/images/logo*.png` - Logo files
   - **Remove**:
     - Individual icon PNG files (777+ files)
     - Unused template images
     - Legacy icon sets
   - **Impact**: Scan codebase for any hardcoded icon paths

3. **Remove Unused Template Libraries**
   - ⚠️ **Task**: Audit and remove unused JavaScript libraries
   - **Currently Used**:
     - jQuery 3.7.1
     - Bootstrap Bundle
     - ApexCharts
     - DataTables
     - Iconify
   - **Potentially Unused** (verify before removal):
     - jQuery UI
     - Vector Map (jvectormap)
     - Magnific Popup
     - Slick Slider
     - Prism.js
     - File Upload
     - Audio Player
   - **Action**: Scan codebase for usage before removal

4. **Remove Legacy Backup Files**
   - ⚠️ **Task**: Clean up `__backup/` directory
   - **Reason**: Contains old versions and unused files
   - **Action**: Archive important backups, remove redundant files

5. **Remove Redundant Files**
   - ⚠️ **Task**: Scan for duplicate/unused files
   - **Check**:
     - Duplicate translation files in root `i18n/` vs `i18n/modules/`
     - Old API files in root vs `api/` directory
     - Unused helper files
     - Legacy page files

6. **Iconify Migration Complete**
   - ✅ All icons now use Iconify (`iconify-icon` component)
   - ✅ No need for individual icon image files
   - ✅ Iconify CDN/library included in `partials/scripts.php`
   - **Action**: Remove icon image files after verification

#### Cleanup Verification Checklist:

Before removing any files, verify:
- [ ] No hardcoded paths to `/template/` directory
- [ ] No references to removed icon files
- [ ] No JavaScript dependencies on removed libraries
- [ ] All functionality tested after cleanup
- [ ] Backup created before major deletions
- [ ] Git history preserved for rollback

#### Cleanup Script (Future):

Create a cleanup script to:
1. Scan codebase for references to removed paths
2. Generate report of files safe to delete
3. Create backup before deletion
4. Remove files and verify no broken references
5. Update documentation

## Platform Support

### Current Status (as of November 2025)
- **Windows**: ✅ Fully supported (primary platform)
- **macOS**: ❌ Not supported by Laragon (Windows-only)
- **Linux**: ❌ Not supported by Laragon (Windows-only)

### Cross-Platform Research
Laragon is currently Windows-only. For future cross-platform support, the dashboard architecture should be designed to:
- Abstract platform-specific operations (service management, file paths, etc.)
- Support multiple backend environments (Laragon on Windows, MAMP/XAMPP on macOS/Linux)
- Detect and adapt to the host platform
- Provide platform-specific features when available

**Potential Future Platforms**:
- **macOS**: Could integrate with MAMP, Laravel Valet, or Docker
- **Linux**: Could integrate with LAMP stack, Docker, or platform-specific tools

## Overview
This is a web-based dashboard for managing Laragon development environment. Version 3.0.0 aims to be a comprehensive MAMP competitor on Windows, replicating Laragon control panel functionality in a modern, themed web interface.

## Application Structure

### Current Architecture
- **Base**: WowDash template (migrated to custom structure)
- **Location**: Root directory with modular structure
- **Structure**: Fully bootstrapped application with:
  - `partials/layouts/layoutTop.php` - Header, sidebar, navbar
  - `partials/layouts/layoutBottom.php` - Footer, scripts
  - `partials/head.php` - Meta tags, CSS includes
  - `partials/sidebar.php` - Navigation sidebar
  - `partials/navbar.php` - Top navigation bar
  - `partials/footer.php` - Footer content
  - `partials/scripts.php` - JavaScript includes
  - `pages/` - Individual page files
  - `api/` - API endpoints
  - `assets/` - CSS, JS, images (moved from template)
  - `i18n/` - Translation files

### Application Features
- Modern dashboard UI with cards, charts, tables
- Responsive design
- Iconify icons (no individual icon files needed)
- ApexCharts for visualizations
- Theme support (light/dark/monochrome)
- No inline JavaScript in PHP files (all JS in separate files)
- Modular page routing system
- Centralized API endpoints

### Page Structure Pattern
```php
<?php include './partials/layouts/layoutTop.php' ?>
<div class="dashboard-main-body">
    <!-- Page content -->
</div>
<?php include './partials/layouts/layoutBottom.php' ?>
```

## Laragon Control Panel Features to Replicate

### 1. Service Management
**Status**: Partially implemented
- Start/Stop/Restart services (Apache, MySQL, Nginx, Redis, Memcached, MongoDB, PostgreSQL, Mailpit)
- Service status monitoring
- Port monitoring
- Service version detection
- Windows service control via `sc` commands
- Process-based service control (for non-Windows services)

**API**: `services_manager.php`
- Actions: `status`, `start`, `stop`, `restart`, `get_ports`
- Returns JSON with service status, versions, ports

### 2. Project Management
**Status**: Partially implemented
- List projects from `www` directory
- Framework detection (WordPress, Laravel, Drupal, CodeIgniter, Symfony, CakePHP, Joomla)
- Project search/filter
- Quick access links to project admin panels
- Framework-specific icons and links

**API**: `project_search.php`
- Search projects by name
- Returns filtered project list

### 3. Database Management
**Status**: Implemented
- Browse all databases
- View database sizes
- List tables with row counts and sizes
- View table structure (columns, types, keys, constraints)
- Execute SELECT queries (read-only)
- Database optimization

**API**: `database_manager.php`
- Actions: `list_databases`, `get_tables`, `get_table_structure`, `execute_query`, `get_database_size`

### 4. Email Management (Mailpit)
**Status**: Implemented
- View emails from Laragon's sendmail output
- Email statistics (total, daily, weekly, unique senders)
- Search and filter emails
- Read email content
- Delete emails (individual and bulk)
- Export email data

**Location**: `assets/inbox/`
- `inbox.php` - Email list interface
- `open_email.php` - Email viewer

### 5. Server Monitoring
**Status**: Implemented
- Real-time system vitals (CPU, memory, disk)
- PHP memory usage tracking
- Multi-drive disk usage monitoring
- Visual charts (Chart.js)
- Windows-compatible system info

**API**: `server_vitals.php`
- Returns JSON with uptime, CPU usage, memory usage, disk usage, PHP memory info

### 6. Log Viewer
**Status**: Implemented
- View Apache logs
- View PHP logs
- View MySQL logs
- View Dashboard logs
- Configurable line count (10-1000)
- Clear log files
- Terminal-style display

**API**: `log_viewer.php`
- Actions: `list_logs`, `read_log`, `clear_log`

### 7. Tools Page
**Status**: ✅ **FULLY IMPLEMENTED**
- **Composer Commands**: Install, update, dump-autoload, clear-cache
- **NPM Commands**: Install, update, run build/dev/prod
- **Git Operations**: Status, branch, log, pull
- **Cache Clearing**: Laravel cache, WordPress cache, general cache clearing
- **PHP Info Viewer**: Display PHP configuration information
- **Project Selection**: Execute commands in specific project directories
- **Real-time Output**: Display command output in real-time

**API**: `api/tools.php`
- Actions: `composer`, `npm`, `git`, `clear_cache`, `php_info`
- Auto-detects Composer, NPM, and Git executables from Laragon installation
- Executes commands in project directories with timeout protection
- Returns JSON with success status and output

**Page**: `pages/tools.php`
- Tabbed interface for each tool category
- Project selector dropdown
- Command input/output display
- Real-time execution feedback

### 8. Virtual Hosts Management
**Status**: NOT IMPLEMENTED
- Create virtual hosts
- Edit virtual hosts
- Delete virtual hosts
- SSL certificate management
- Domain suffix configuration (.local, .test, etc.)
- Apache/Nginx configuration management

**Needs Implementation**:
- Read/write Apache config files (`etc/apache2/sites-enabled/*.conf`)
- Read/write Nginx config files
- SSL certificate generation/management
- Hosts file management (Windows hosts file)

### 9. Laragon Preferences
**Status**: Partially implemented
- Read Laragon preferences from `usr/laragon.ini`
- Auto-detect Laragon installation path
- Document root configuration
- Domain suffix detection
- Auto-start services configuration

**Needs Implementation**:
- Edit Laragon preferences
- Save preferences to `laragon.ini`
- Preference UI interface

### 10. Backup & Export
**Status**: ✅ **FULLY IMPLEMENTED**
- **Project Backup**: Creates ZIP archive of entire project directory
- **Database Backup**: Creates SQL dump using `mysqldump.exe` (auto-detected from Laragon)
- **Combined Backup**: Project ZIP + Database ZIP (stored separately)
- **Backup Management**:
  - List all backups with project name, database, creation date, file sizes
  - Download project ZIP or database ZIP individually
  - Delete backups
  - Refresh/recreate backups
- **Storage**: Backups stored in `/uploaded/backups/` directory
- **File Naming**: `{project}_{timestamp}_project.zip` and `{project}_{timestamp}_database.zip`
- **MySQL Integration**: Uses configured MySQL credentials (MYSQL_HOST, MYSQL_USER, MYSQL_PASSWORD)

**API**: `api/backup.php`
- Actions:
  - `list` - List all backups
  - `create` - Create new backup (project + optional database)
  - `delete` - Delete a backup
  - `refresh` - Recreate a backup
  - `download_project` - Download project ZIP file
  - `download_database` - Download database ZIP file
  - `databases` - Get list of available databases

**Page**: `pages/backup.php`
- Create backup form with project and database selectors
- Backup history table with download/delete/refresh actions
- Real-time backup list loading
- File size formatting and date display

### 11. Update Management
**Status**: ✅ **FULLY IMPLEMENTED**
- Automatic update checking from GitHub
- Download with progress tracking
- One-click update installation
- Automatic backup before update
- Configuration migration and preservation
- Rollback capability
- Installation verification

**API**: `api/update.php`
**Classes**: `UpdateManager`, `ConfigMigrator`
**Documentation**: See `UPDATE_SYSTEM.md` for complete details

**Features:**
- ✅ GitHub API integration for version checking
- ✅ Automatic backup creation with manifest
- ✅ Configuration preservation during updates
- ✅ User data preservation (preferences, license, backups)
- ✅ Safe rollback mechanism
- ✅ Post-update verification
- ✅ Config key extraction and migration

## Configuration

### Config File: `config.php`
```php
// Auto-detected values
$LARAGON_ROOT = getLaragonRoot(); // Auto-detect from common paths
SENDMAIL_OUTPUT_DIR = getLaragonSendmailDir(); // C:/laragon/bin/sendmail/output/
DOMAIN_SUFFIX = getLaragonDomainSuffix(); // .local
APP_VERSION = getAppVersion(); // From Git or VERSION file

// MySQL defaults
MYSQL_HOST = 'localhost'
MYSQL_USER = 'root'
MYSQL_PASSWORD = ''

// Application settings
APP_NAME = 'Laragon Dashboard'
APP_DEBUG = true/false
SESSION_TIMEOUT = 3600
MAX_LOGIN_ATTEMPTS = 5
```

### Laragon INI File: `usr/laragon.ini`
- Contains Laragon preferences
- Read via `parse_ini_file()`
- Keys: `StartAll`, `DocumentRoot`, `DataDirectory`, `HostnameFormat`, `DomainSuffix`, `Port`, `SSLEnabled`, etc.

## File Structure

```
Laragon-Dashboard/
├── api/                  # API endpoints
│   ├── vitals.php       # Server monitoring API
│   ├── services.php     # Service management API
│   ├── logs.php         # Log operations API
│   ├── files.php        # File operations API
│   ├── mailpit.php      # Mailpit proxy API
│   ├── create_project.php # Project creation API
│   └── preferences.php  # Preferences API
├── assets/              # Application assets
│   ├── css/            # Stylesheets
│   │   ├── lib/        # Library CSS (ApexCharts, DataTables, etc.)
│   │   └── style.css   # Main stylesheet
│   ├── js/             # JavaScript files
│   │   ├── lib/        # Library JS (jQuery, Bootstrap, ApexCharts, etc.)
│   │   └── app.js      # Main application JS
│   ├── images/         # Images
│   │   ├── flags/      # Language flags (KEEP)
│   │   ├── favicon/    # Favicon files (KEEP)
│   │   └── logo*.png   # Logo files (KEEP)
│   └── fonts/          # Web fonts
├── data/               # Data storage
│   └── preferences.json # Dashboard preferences
├── i18n/               # Internationalization
│   ├── common/         # Common translations
│   ├── sidebar/        # Sidebar translations
│   ├── dashboard/      # Dashboard translations
│   ├── projects/       # Projects translations
│   ├── databases/      # Databases translations
│   ├── services/       # Services translations
│   ├── logs/           # Logs translations
│   ├── tools/          # Tools translations
│   ├── backup/         # Backup translations
│   ├── preferences/    # Preferences translations
│   ├── mailbox/        # Mailbox translations
│   ├── vitals/         # Vitals translations
│   └── languages.php   # Language configuration
├── includes/           # Helper classes
│   ├── helpers.php     # Server information and utilities
│   ├── i18n.php        # Translation system
│   ├── Router.php      # Routing system
│   ├── UpdateManager.php # Update management
│   └── ConfigMigrator.php # Configuration migration
├── pages/              # Page files
│   ├── projects.php    # Projects page (projects only, no server cards)
│   ├── databases.php   # Databases page
│   ├── services.php    # Services page
│   ├── vitals.php      # Server vitals page
│   ├── mailbox.php     # Mailbox page (Mailpit)
│   ├── logs.php        # Logs page
│   ├── tools.php       # Tools page
│   ├── backup.php      # Backup page
│   ├── sites.php       # Virtual hosts page
│   ├── httpd.php       # Apache config page
│   └── preferences.php # Preferences page
├── api/                # API endpoints
│   ├── vitals.php      # Server vitals API
│   ├── services.php    # Service management API
│   ├── logs.php        # Log operations API
│   ├── files.php       # File operations API
│   ├── mailpit.php     # Mailpit proxy API
│   ├── create_project.php # Project creation API
│   ├── preferences.php # Preferences API
│   └── update.php      # Update management API
├── build/              # Build scripts
│   ├── update_libraries.php # Library updater
│   └── README.md       # Build documentation
├── backups/            # Update backups
│   └── [timestamped backups]
├── data/               # Data storage
│   └── preferences.json # Dashboard preferences
├── partials/           # Layout partials
│   ├── layouts/        # Layout files
│   │   ├── layoutTop.php    # Top layout (head, sidebar, navbar)
│   │   └── layoutBottom.php # Bottom layout (footer, scripts)
│   ├── head.php        # HTML head
│   ├── sidebar.php     # Sidebar navigation
│   ├── navbar.php      # Top navigation bar
│   ├── footer.php      # Footer content
│   └── scripts.php     # JavaScript includes
├── config.php         # Configuration
├── index.php          # Main entry point (router)
├── sw.js             # Service Worker (PWA)
└── KNOWLEDGE_BASE.md # This file

⚠️ TO BE REMOVED (Future Cleanup):
├── template/          # Legacy template directory (not part of webapp)
└── __backup/          # Backup files (archive and remove)
```

## Laragon Path Detection

### Auto-Detection Order:
1. `LARAGON_ROOT` environment variable
2. Common paths: `C:/laragon`, `D:/laragon`, `E:/laragon`
3. Detect from `DOCUMENT_ROOT` (if contains 'laragon')
4. Default fallback: `C:/laragon`

### Verification:
- Check for `laragon.exe` in root directory
- Check for `usr/laragon.ini` file

## Service Detection

### Windows Services:
- Apache: `Apache2.4` service
- MySQL: `MySQL` service
- PostgreSQL: `postgresql` service
- Redis: `Redis` service
- Memcached: `memcached` service
- MongoDB: `MongoDB` service

### Process-Based Services:
- Nginx: `nginx.exe` process
- Mailpit: `mailpit.exe` process

### Status Check:
- Windows services: `sc query "ServiceName"`
- Processes: `tasklist /FI "IMAGENAME eq process.exe"`

## Framework Detection

### Detection Methods:
1. **WordPress**: Check for `wp-config.php`
2. **Laravel**: Check for `artisan` file
3. **Drupal**: Check for `sites/default/settings.php`
4. **CodeIgniter**: Check for `application/config/config.php`
5. **Symfony**: Check for `app/AppKernel.php` or `symfony.lock`
6. **CakePHP**: Check for `config/app.php`
7. **Joomla**: Check for `configuration.php`

### Framework Icons:
- Located in `assets/` directory
- PNG format
- Framework-specific branding

## Security Features

### Implemented:
- CSRF protection (tokens)
- Security headers (X-Frame-Options, CSP, etc.)
- Input sanitization
- SQL injection protection (prepared statements)
- Rate limiting
- Secure sessions

### Security Helper: `includes/security.php`
- `SecurityHelper::validateRequest()` - Request validation
- `SecurityHelper::validateCSRF()` - CSRF token validation
- Security headers setup

## API Pattern

### Standard API Structure:
```php
<?php
require_once __DIR__ . '/config.php';
require_once __DIR__ . '/includes/security.php';
require_once __DIR__ . '/includes/logger.php';

header('Content-Type: application/json');

// Security check
if (!SecurityHelper::validateRequest()) {
    http_response_code(403);
    echo json_encode(['error' => 'Invalid request']);
    exit;
}

$action = $_GET['action'] ?? $_POST['action'] ?? '';

try {
    switch ($action) {
        case 'action1':
            // Handle action
            break;
        default:
            throw new Exception('Invalid action');
    }
} catch (Exception $e) {
    DashboardLogger::error("Error: " . $e->getMessage());
    http_response_code(500);
    echo json_encode(['success' => false, 'error' => $e->getMessage()]);
}
?>
```

## Missing Features (To Implement)

### High Priority:
1. **Virtual Hosts Management**
   - Create/edit/delete virtual hosts
   - SSL certificate management
   - Apache/Nginx config editing
   - Hosts file management

2. **Laragon Preferences UI**
   - Edit preferences interface
   - Save preferences to `laragon.ini`
   - Visual preference management

3. **Project Creation Wizard**
   - Create new projects
   - Framework-specific setup
   - Database creation
   - Virtual host auto-creation

### Medium Priority:
1. **SSL Certificate Generator**
   - Generate self-signed certificates
   - Certificate management UI

2. **Database Creation/Management**
   - Create databases
   - Import/export databases
   - User management

3. **File Manager**
   - Browse project files
   - Edit files
   - Upload/download files

### Low Priority:
1. **Terminal Integration**
   - Web-based terminal
   - Command execution

2. **Package Management**
   - Composer package browser
   - NPM package browser

## Development Guidelines

### Code Standards:
- No inline JavaScript in PHP files
- All JavaScript in separate `.js` files
- Use template partials for layout
- Follow PSR-12 coding standards
- Comprehensive error handling
- Security-first approach

### Template Usage:
- Use `blank-page.php` as template for new pages
- Include layout partials, don't duplicate
- Use template CSS classes and components
- No Bootstrap classes (use template's custom classes)

### API Design:
- JSON responses
- Consistent error handling
- Security validation on all endpoints
- Logging for all operations

## Wowdash References to Remove

### Files with Wowdash Mentions:
1. **template/partials/head.php** (line 4)
   - Title: "Wowdash - Bootstrap 5 Admin Dashboard HTML Template"
   - Should be: "Laragon Dashboard"

2. **template/partials/footer.php** (lines 4, 7)
   - "© 2024 WowDash. All Rights Reserved."
   - "Made by WowDash"
   - Should be: "Laragon Dashboard" branding

3. **template/wallet.php** (line 434)
   - "WowDash" text

4. **template/voice-generator.php** (multiple lines)
   - "WowDash" branding in chat interface
   - Placeholder: "Message wowdash..."

5. **template/video-generator.php** (multiple lines)
   - "WowDash" branding in chat interface
   - Placeholder: "Message wowdash..."

6. **template/text-generator.php** (multiple lines)
   - "WowDash" branding in chat interface
   - Placeholder: "Message wowdash..."

7. **template/text-generator-new.php** (line 102)
   - Placeholder: "Message wowdash..."

8. **template/code-generator.php** (multiple lines)
   - "WowDash" branding in chat interface
   - Placeholder: "Message wowdash..."

9. **template/code-generator-new.php** (line 100)
   - Placeholder: "Message wowdash..."

10. **template/image-generator.php** (multiple lines)
    - "WowDash" branding in chat interface
    - Placeholder: "Message wowdash..."

11. **template/typography.php** (multiple lines)
    - "- WowDash" text in examples

12. **template/notification.php** (lines 43, 49, 55)
    - Firebase config examples: "wowdash.firebaseapp.com", "wowdash.com", "wowdash.appsport.com"

13. **template/maintenance.php** (line 26)
    - Placeholder: "wowdash@gmail.com"

14. **template/coming-soon.php** (line 46)
    - Placeholder: "wowdash@gmail.com"

15. **template/faq.php** (line 40)
    - Question: "How to can i use WowDash?"

16. **template/assets/images/wow-dash-favicon.png**
    - Image file that should be replaced with Laragon branding

### Action Items:
- Replace all "WowDash"/"wowdash" text with "Laragon Dashboard" or appropriate Laragon branding
- Update placeholders and examples
- Replace favicon image
- Update footer copyright
- Update page titles

## Notes

- Application is fully bootstrapped - no need for separate bootstrap.php
- All JavaScript should be external files, referenced via `$script` variable in `partials/scripts.php`
- Remove all mentions of "wowdash" from codebase
- Theme compliance: no h1-h6 tags, no text-muted, no bg-white classes
- Always check database schema directly before creating queries
- Avoid double work - check existing implementations first
- **Iconify Integration**: All icons use Iconify, no individual icon image files needed
- **Asset Management**: All assets in `/assets/` directory, not `/template/`
- **Routing**: Simple `?page=` query parameter routing with basic sanitization (prevents directory traversal)

## Iconify Usage

The application uses **Iconify** for all icons, eliminating the need for individual icon image files.

### Implementation:
- Iconify library included: `assets/js/lib/iconify-icon.min.js`
- Usage: `<iconify-icon icon="solar:home-smile-angle-outline"></iconify-icon>`
- Icon sets: Solar, Material Symbols, Streamline, Carbon, etc.
- No individual PNG/SVG icon files needed (except flags, logos, favicons)

### Keep These Image Files:
- ✅ `/assets/images/flags/` - Language flags (required for language selector)
- ✅ `/assets/images/favicon/` - Favicon files (required for browser)
- ✅ `/assets/images/logo*.png` - Logo files (required for branding)

### Can Be Removed:
- ❌ Individual icon PNG files (777+ files in `/assets/images/`)
- ❌ Template icon sets
- ❌ Unused image assets from template

## Version 3.0.0 README.md Preparation

This KNOWLEDGE_BASE.md serves as the foundation for the Version 3.0.0 README.md. When ready to create the README:

1. Extract major features and achievements
2. Include installation instructions
3. Add screenshots/demo links
4. Document API endpoints
5. Include contribution guidelines
6. Add changelog section
7. Document cleanup tasks for future versions

